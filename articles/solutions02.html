<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 2 • geocompkg | metapackage for the book Gecomputation with R</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Chapter 2">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geocompkg | metapackage for the book Gecomputation with R</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.66</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="https://geocompr.github.io/">Home</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/geocompr/geocompkg">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Chapter 2</h1>
                        <h4 class="author">Robin Lovelace, Jakub Nowosad, Jannes Muenchow</h4>
            
            <h4 class="date">2018-08-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/geocompr/geocompkg/blob/master/vignettes/solutions02.Rmd"><code>vignettes/solutions02.Rmd</code></a></small>
      <div class="hidden name"><code>solutions02.Rmd</code></div>

    </div>

    
    
<div id="prerequisites" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#prerequisites" class="anchor"></a>Prerequisites</h2>
<p>The solutions assume the following packages are attached (other packages will be attached when needed):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sf)
<span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(spData)</code></pre></div>
</div>
<div id="chapter-2" class="section level1">
<h1 class="hasAnchor">
<a href="#chapter-2" class="anchor"></a>Chapter 2</h1>
<!-- vector exercises -->
<ol style="list-style-type: decimal">
<li>What does the summary of the <code>geometry</code> column tell us about the <code>world</code> dataset, in terms of:
<ul>
<li>The geometry type?</li>
<li>How many countries there are?</li>
<li>The coordinate reference system (CRS)?</li>
</ul>
</li>
<li>Using <strong>sf</strong>’s <code><a href="http://www.rdocumentation.org/packages/sf/topics/plot">plot()</a></code> command, create a map of Nigeria in context, building on the code that creates and plots Asia above (see Figure @ref(fig:asia) for an example of what this could look like).
<ul>
<li>Hint: this used the <code>lwd</code>, <code>main</code> and <code>col</code> arguments of <code><a href="http://www.rdocumentation.org/packages/sf/topics/plot">plot()</a></code>.</li>
<li>Bonus: make the country boundaries a dotted grey line.</li>
<li>Hint: <code>border</code> is an additional argument of <code><a href="http://www.rdocumentation.org/packages/sf/topics/plot">plot()</a></code> for <strong>sf</strong> objects.</li>
</ul>
</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nigeria =<span class="st"> </span>world[world<span class="op">$</span>name_long <span class="op">==</span><span class="st"> "Nigeria"</span>, ]
africa =<span class="st"> </span>world[world<span class="op">$</span>continent <span class="op">==</span><span class="st"> "Africa"</span>, ]
bb_africa =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/st_bbox">st_bbox</a></span>(africa)
<span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(africa), <span class="dt">col =</span> <span class="st">"white"</span>, <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">main =</span> <span class="st">"Nigeria in context"</span>, <span class="dt">border =</span> <span class="st">"lightgrey"</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(world), <span class="dt">lty =</span> <span class="dv">3</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">border =</span> <span class="st">"grey"</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(nigeria), <span class="dt">col =</span> <span class="st">"yellow"</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">border =</span> <span class="st">"darkgrey"</span>)
ncentre =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/geos_unary">st_centroid</a></span>(nigeria)
ncentre_num =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/sf/topics/st_coordinates">st_coordinates</a></span>(ncentre)
<span class="kw">text</span>(<span class="dt">x =</span> ncentre_num[<span class="dv">1</span>], <span class="dt">y =</span> ncentre_num[<span class="dv">2</span>], <span class="dt">labels =</span> <span class="st">"Nigeria"</span>)</code></pre></div>
<div class="figure">
<img src="solutions02_files/figure-html/nigeria-1.png" alt="Map of Nigeria in context illustrating sf's plotting capabilities" width="700"><p class="caption">
Map of Nigeria in context illustrating sf’s plotting capabilities
</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>What does the <code>cex</code> argument do in the <code><a href="http://www.rdocumentation.org/packages/sf/topics/plot">plot()</a></code> function that generates Figure @ref(fig:contpop)?
<ul>
<li>Why was <code>cex</code> passed the <code>sqrt(world$pop) / 10000</code> instead of just the population directly?</li>
<li>Bonus: what equivalent arguments to <code>cex</code> exist in the dedicated vizualisation package <strong>tmap</strong>?</li>
</ul>
</li>
<li>Re-run the code that ‘generated’ Figure @ref(fig:contpop) at the end of @ref(base-args) and find 3 similarities and 3 differences between the plot produced on your computer and that in the book.
<ul>
<li>What is similar?
<ul>
<li>The map orientation (north is up), colors of the continents and sizes of the circles are the same, among other things.</li>
</ul>
</li>
<li>What has changed?
<ul>
<li>The shape of the countries (an equal area projection has been used), the color of the points has changed (to red) and are now filled in (using the <code>pch</code> argument to change the point symbol), the plot has graticules and (most subtly) the points are now in the centroid of the largest polygon of each country, rather than in the area-weighted centroid across all polygons per country.</li>
</ul>
</li>
<li>Bonus: play around with and research base plotting arguments to make your version of Figure @ref(fig:contpop) more attractive. Which arguments were most useful.
<ul>
<li>This is a subjective question: have fun!</li>
</ul>
</li>
<li>Advanced: try to reproduce the map presented in Figure @ref(base-args). Copy-and-pasting is prohibited!
<ul>
<li>You can <em>look</em> at the code that generated the plot here: <a href="https://github.com/Robinlovelace/geocompr/blob/master/02-spatial-data.Rmd" class="uri">https://github.com/Robinlovelace/geocompr/blob/master/02-spatial-data.Rmd</a> . If you memorise its important parts, and type them in your own script to reproduce the code that does not count as cheating. That will be a valuable learning experience.</li>
</ul>
</li>
</ul>
</li>
</ol>
<!-- raster exercises --><ol start="5" style="list-style-type: decimal">
<li>Read the <code>raster/nlcd2011.tif</code> file from the <strong>spDataLarge</strong> package. What kind of information can you get about the properties of this file? <!-- (crs, ncols, nrow, ncells, bbox, navalues) -->
</li>
<li>Create an empty <code>RasterLayer</code> object called <code>my_raster</code> with 10 columns and 10 rows, and resolution of 10 units. Assign random values between 0 and 10 to the new raster and plot it. <!-- crs exercises --> <!-- 1. pros and cons of the projection types --> <!-- 1. what's the difference between vector and raster transformation --> <!-- units exercises --> <!-- 1. ?? -->
</li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#prerequisites">Prerequisites</a></li>
      <li><a href="#chapter-2">Chapter 2</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Robin Lovelace, Jakub Nowosad, Jannes Muenchow.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
